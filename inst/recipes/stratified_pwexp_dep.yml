# inst/recipes/stratified_pwexp_dep.yml
version: 1
seed: 20250905
n: 600

covariates:
  defs:
    - name: age
      type: continuous
      dist: normal
      params: { mean: 62, sd: 10 }
      transform: [ "center(60)", "scale(10)" ]
    - name: gender
      type: categorical
      dist: bernoulli
      params: { p: 0.45 }
    - name: stab_glu
      type: continuous
      dist: lognormal
      params: { meanlog: 4.55, sdlog: 0.15 }

event_time:
  model: cox_pwexp
  baseline:
    rates: [0.10, 0.06, 0.03]
    cuts:  [6, 18]  # months
  effects:
    treatment: -0.35
    covariates: { age: 0.01, gender: -0.10, stab_glu: 0.003 }
  tau: 24

censoring:
  mode: explicit
  administrative: { time: 30 }
  random:
    dist: exponential
    params: { rate: 0.02 }
  dependent:
    formula: "~ 0.02*(age-60) + 0.4*(gender==1)"
    scale: 1

treatment:
  assignment: stratified
  allocation: "1:1"
  stratify_by: [ gender ]
