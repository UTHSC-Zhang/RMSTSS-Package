[{"path":"/articles/RMSTSS_Package_Vignette.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"RMST-Based Sample Size Estimation","text":"vignette demonstrates use RMSTSampleSize package sample size estimation using Restricted Mean Survival Time (RMST). RMST offers interpretable robust alternative hazard-based endpoints survival analysis.","code":""},{"path":"/articles/RMSTSS_Package_Vignette.html","id":"simulated-data-example","dir":"Articles","previous_headings":"","what":"Simulated Data Example","title":"RMST-Based Sample Size Estimation","text":"","code":"set.seed(123) n <- 200 lambda <- 0.1 T_true <- rexp(n, rate = lambda) C <- runif(n, min = 0, max = 20) time <- pmin(T_true, C) status <- as.numeric(T_true <= C) group <- sample(c(0, 1), n, replace = TRUE)  df <- data.frame(time = time, status = status, group = group)  fit <- survfit(Surv(time, status) ~ group, data = df) plot(fit, col = c(\"blue\", \"red\"), lty = 1:2,      main = \"Kaplan-Meier Curve by Group\",      xlab = \"Time\", ylab = \"Survival Probability\") legend(\"topright\", legend = c(\"Group 0\", \"Group 1\"), col = c(\"blue\", \"red\"), lty = 1:2)"},{"path":"/articles/RMSTSS_Package_Vignette.html","id":"estimating-rmst-difference","dir":"Articles","previous_headings":"","what":"Estimating RMST Difference","title":"RMST-Based Sample Size Estimation","text":"","code":"tau <- 15  # Truncation time rmst_result <- rmst2(time, status, arm = group, tau = tau) rmst_result$unadjusted.result ##                           Est.  lower .95 upper .95         p ## RMST (arm=1)-(arm=0) 0.6932216 -1.0042749  2.390718 0.4234746 ## RMST (arm=1)/(arm=0) 1.0852650  0.8874742  1.327137 0.4254046 ## RMTL (arm=1)/(arm=0) 0.8990915  0.6928470  1.166730 0.4236620"},{"path":"/articles/RMSTSS_Package_Vignette.html","id":"sample-size-calculation-simulated-example","dir":"Articles","previous_headings":"","what":"Sample Size Calculation (Simulated Example)","title":"RMST-Based Sample Size Estimation","text":"","code":"alpha <- 0.05 z_alpha <- qnorm(1 - alpha / 2)  rmst_diff <- rmst_result$unadjusted.result[1, \"Est.\"]  # Calculate StdErr from the 95% CI lower <- rmst_result$unadjusted.result[1, \"lower .95\"] upper <- rmst_result$unadjusted.result[1, \"upper .95\"]  rmst_se <- (upper - lower) / (2 * z_alpha)  desired_power <- 0.8 z_beta <- qnorm(desired_power)  n_required <- 2 * (z_alpha + z_beta)^2 * (rmst_se^2) / (rmst_diff^2) ceiling(n_required) ## [1] 25"},{"path":"/articles/RMSTSS_Package_Vignette.html","id":"real-life-example-veteran-dataset","dir":"Articles","previous_headings":"","what":"Real-Life Example: Veteran Dataset","title":"RMST-Based Sample Size Estimation","text":"","code":"data(veteran, package = \"survival\") veteran$group <- ifelse(veteran$trt == 1, 1, 0)  fit2 <- survfit(Surv(time, status) ~ group, data = veteran) plot(fit2, col = c(\"blue\", \"darkgreen\"), lty = 1:2,      main = \"Kaplan-Meier Curve (Veteran Data)\",      xlab = \"Time\", ylab = \"Survival Probability\") legend(\"topright\", legend = c(\"Standard\", \"Test\"), col = c(\"blue\", \"darkgreen\"), lty = 1:2) rmst_vet <- rmst2(veteran$time, veteran$status, veteran$group, tau = 100) rmst_vet$unadjusted.result ##                           Est.  lower .95 upper .95         p ## RMST (arm=1)-(arm=0) 7.8895893 -4.6026010 20.381780 0.2157760 ## RMST (arm=1)/(arm=0) 1.1311828  0.9300866  1.375758 0.2171120 ## RMTL (arm=1)/(arm=0) 0.8020578  0.5622940  1.144058 0.2235039"},{"path":"/articles/RMSTSS_Package_Vignette.html","id":"using-the-sample-size-function-from-the-package","dir":"Articles","previous_headings":"","what":"Using the Sample Size Function from the Package","title":"RMST-Based Sample Size Estimation","text":"","code":"sample_size_rmst <- function(effect_size, sd, alpha = 0.05, power = 0.8) {   z_alpha <- qnorm(1 - alpha / 2)   z_beta <- qnorm(power)   n <- 2 * (z_alpha + z_beta)^2 * sd^2 / effect_size^2   ceiling(n) }  # Example usage sample_size_rmst(effect_size = 2, sd = 3) ## [1] 36"},{"path":"/articles/RMSTSS_Package_Vignette.html","id":"pooled-variance-function","dir":"Articles","previous_headings":"","what":"Pooled Variance Function","title":"RMST-Based Sample Size Estimation","text":"","code":"pooled_variance <- function(var_vec, n_vec) {   if(length(var_vec) != length(n_vec)) stop(\"Length mismatch.\")   num <- sum((n_vec - 1) * var_vec)   denom <- sum(n_vec) - length(n_vec)   num / denom }  # Example pooled_variance(c(0.5, 0.6), c(80, 120)) ## [1] 0.560101"},{"path":"/articles/RMSTSS_Package_Vignette.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"RMST-Based Sample Size Estimation","text":"vignette demonstrates: RMST estimation using survRM2::rmst2() Sample size estimation based RMST difference Use simulated real-world datasets Utility functions like sample_size_rmst() pooled_variance()","code":""},{"path":"/articles/RMSTSS_Package_Vignette.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"RMST-Based Sample Size Estimation","text":"Uno et al. (2014), Moving beyond hazard ratio quantifying -group difference survival analysis. survRM2 package documentation: https://cran.r-project.org/web/packages/survRM2/","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Arnab Aich. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Aich (2025). RMSTSS: Sample Size Calculation Using RMST Survival Data. R package version 0.1.0.","code":"@Manual{,   title = {RMSTSS: Sample Size Calculation Using RMST for Survival Data},   author = {Arnab Aich},   year = {2025},   note = {R package version 0.1.0}, }"},{"path":"/reference/estimate_rmst.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Restricted Mean Survival Time (RMST) — estimate_rmst","title":"Estimate Restricted Mean Survival Time (RMST) — estimate_rmst","text":"Compute RMST estimate observed survival times censoring indicators specified truncation time tau.","code":""},{"path":"/reference/estimate_rmst.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Restricted Mean Survival Time (RMST) — estimate_rmst","text":"","code":"estimate_rmst(time, status, tau)"},{"path":"/reference/estimate_rmst.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Restricted Mean Survival Time (RMST) — estimate_rmst","text":"time Numeric vector observed survival censoring times. status Numeric vector event indicators (1 = event, 0 = censored). tau Numeric truncation time (max time integrate survival curve).","code":""},{"path":"/reference/estimate_rmst.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Restricted Mean Survival Time (RMST) — estimate_rmst","text":"Numeric estimate RMST time tau.","code":""},{"path":"/reference/pooled_variance.html","id":null,"dir":"Reference","previous_headings":"","what":"Pooled Variance Calculation — pooled_variance","title":"Pooled Variance Calculation — pooled_variance","text":"Calculate pooled variance vector variances corresponding sample sizes. Used internally stratified sample size estimation.","code":""},{"path":"/reference/pooled_variance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pooled Variance Calculation — pooled_variance","text":"","code":"pooled_variance(var_vec, n_vec)"},{"path":"/reference/pooled_variance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pooled Variance Calculation — pooled_variance","text":"var_vec Numeric vector variances stratum. n_vec Numeric vector sample sizes stratum.","code":""},{"path":"/reference/pooled_variance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pooled Variance Calculation — pooled_variance","text":"Numeric pooled variance.","code":""},{"path":"/reference/RMSt.power.html","id":null,"dir":"Reference","previous_headings":"","what":"Power Calculation for Difference in RMST — RMSt.power","title":"Power Calculation for Difference in RMST — RMSt.power","text":"Computes power two-sample test comparing RMST two groups, assuming normal approximation.","code":""},{"path":"/reference/RMSt.power.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Power Calculation for Difference in RMST — RMSt.power","text":"","code":"RMSt.power(delta, sigma, n_total, alpha = 0.05)"},{"path":"/reference/RMSt.power.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Power Calculation for Difference in RMST — RMSt.power","text":"delta Expected difference RMST treatment control groups. sigma Estimated common standard deviation RMST. n_total Total sample size (evenly split groups). alpha Type error rate (default 0.05).","code":""},{"path":"/reference/RMSt.power.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Power Calculation for Difference in RMST — RMSt.power","text":"Power test (probability rejecting null true difference `delta`)","code":""},{"path":"/reference/RMSt.power.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Power Calculation for Difference in RMST — RMSt.power","text":"","code":"RMSt.power(delta = 1.2, sigma = 2, n_total = 100, alpha = 0.05) #> [1] 0.8508384"},{"path":"/reference/RMSt.sample.size.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Size Calculation Based on RMST — RMSt.sample.size","title":"Sample Size Calculation Based on RMST — RMSt.sample.size","text":"Computes required sample size per group achieve specified power detecting given difference RMST.","code":""},{"path":"/reference/RMSt.sample.size.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Size Calculation Based on RMST — RMSt.sample.size","text":"","code":"RMSt.sample.size(delta, sigma2, alpha = 0.05, power = 0.8)"},{"path":"/reference/RMSt.sample.size.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample Size Calculation Based on RMST — RMSt.sample.size","text":"delta effect size (difference RMST groups). sigma2 variance RMST difference estimator. alpha Significance level (default: 0.05). power Desired power (default: 0.80).","code":""},{"path":"/reference/RMSt.sample.size.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample Size Calculation Based on RMST — RMSt.sample.size","text":"Required sample size per group.","code":""},{"path":"/reference/RMSt.sample.size.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample Size Calculation Based on RMST — RMSt.sample.size","text":"","code":"RMSt.sample.size(delta = 0.5, sigma2 = 0.25, alpha = 0.05, power = 0.8) #> [1] 16"},{"path":"/reference/rmst_sample_size.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Required Sample Size per Stratum for Detecting RMST Difference — rmst_sample_size","title":"Calculate Required Sample Size per Stratum for Detecting RMST Difference — rmst_sample_size","text":"Calculate sample sizes needed per stratum detect specified RMST effect size given alpha power, using stratified survival data.","code":""},{"path":"/reference/rmst_sample_size.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Required Sample Size per Stratum for Detecting RMST Difference — rmst_sample_size","text":"","code":"rmst_sample_size(   data,   tau,   effect_size,   alpha = 0.05,   power = 0.8,   n_per_stratum = NULL )"},{"path":"/reference/rmst_sample_size.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Required Sample Size per Stratum for Detecting RMST Difference — rmst_sample_size","text":"data Data frame columns: time, status, stratum (factor). tau Numeric truncation time RMST calculation. effect_size Numeric expected difference RMST groups. alpha Numeric Type error rate (default 0.05). power Numeric desired power (default 0.8). n_per_stratum Optional numeric vector current sample sizes per stratum (estimate variance).","code":""},{"path":"/reference/rmst_sample_size.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Required Sample Size per Stratum for Detecting RMST Difference — rmst_sample_size","text":"Numeric vector required sample sizes per stratum.","code":""},{"path":"/reference/simulate_stratified_survival.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate Stratified Survival Data with Exponential Hazards and Uniform Censoring — simulate_stratified_survival","title":"Simulate Stratified Survival Data with Exponential Hazards and Uniform Censoring — simulate_stratified_survival","text":"Generate stratified survival dataset specified sample sizes, hazard rates, censoring rate.","code":""},{"path":"/reference/simulate_stratified_survival.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate Stratified Survival Data with Exponential Hazards and Uniform Censoring — simulate_stratified_survival","text":"","code":"simulate_stratified_survival(   n_per_stratum,   hazard_rates,   censoring_rate,   strata_names = NULL )"},{"path":"/reference/simulate_stratified_survival.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate Stratified Survival Data with Exponential Hazards and Uniform Censoring — simulate_stratified_survival","text":"n_per_stratum Numeric vector sample sizes stratum. hazard_rates Numeric vector hazard rates per stratum. censoring_rate Numeric scalar maximum censoring time (uniform censoring). strata_names Optional character vector naming strata.","code":""},{"path":"/reference/simulate_stratified_survival.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate Stratified Survival Data with Exponential Hazards and Uniform Censoring — simulate_stratified_survival","text":"data.frame columns: time, status, stratum.","code":""}]
