% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/additive_gam.R
\name{design_rmst_gam_power}
\alias{design_rmst_gam_power}
\title{Calculate Power for a Semiparametric Additive RMST Model}
\usage{
design_rmst_gam_power(
  pilot_data,
  time_var,
  status_var,
  arm_var,
  strata_var = NULL,
  sample_sizes,
  linear_terms = NULL,
  smooth_terms = NULL,
  tau,
  n_sim = 1000,
  alpha = 0.05,
  parallel.cores = 1
)
}
\arguments{
\item{pilot_data}{A data.frame with pilot study data.}

\item{time_var, status_var, arm_var}{Strings for column names.}

\item{strata_var}{An optional string for a stratification variable.}

\item{sample_sizes}{A numeric vector of sample sizes per arm/stratum.}

\item{linear_terms}{Optional character vector of covariates with a linear effect.}

\item{smooth_terms}{Optional character vector of covariates with a non-linear effect.}

\item{tau}{The truncation time for RMST.}

\item{n_sim}{Number of bootstrap simulations.}

\item{alpha}{The significance level.}

\item{parallel.cores}{Number of cores for parallel processing. Default is 1 (sequential).}
}
\value{
A list containing results data, a ggplot object, and a summary data.frame.
}
\description{
Performs a power analysis for given sample sizes using a flexible,
semiparametric additive model for the RMST based on pseudo-observations.
}
\note{
\code{status_var} should be \code{1} for an event, \code{0} for censored. \code{arm_var}
should be \code{1} for treatment, \code{0} for control.
}
\examples{
# Create a small pilot dataset for the example
pilot_data_gam <- data.frame(
  surv_time = stats::rexp(100, rate = 0.1),
  censor_status = stats::rbinom(100, 1, 0.7),
  arm = rep(0:1, each = 50),
  age = stats::rnorm(100, 50, 10),
  biomarker = stats::rnorm(100, 10, 3)
)

# --- Power Calculation Example ---
results_power <- design_rmst_gam_power(
  pilot_data = pilot_data_gam,
  time_var = "surv_time",
  status_var = "censor_status",
  arm_var = "arm",
  sample_sizes = c(100, 150),
  linear_terms = c("age"),
  smooth_terms = c("biomarker"),
  tau = 10,
  n_sim = 10 # Low n_sim for example speed
)
}
\references{
This function uses a pseudo-observation approach. For an alternative
IPCW-based method, see Zhang, Y., & Schaubel, D. E. (2024), Biometrical Journal.
}
